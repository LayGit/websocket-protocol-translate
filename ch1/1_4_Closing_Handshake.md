_本章为非规范章节_

关闭阶段握手比打开阶段握手更加的简单。

客户端和服务端都能发送一个包含指定控制序列数据的控制帧来开启关闭阶段的握手（详见 5.5.1 章节）。在一端收到这个控制帧时，另一端如果没有发送过关闭帧，应该在响应中回复一个关闭帧。收到回复的关闭帧后，开启的那端就可以安全关闭连接，因为知道不会有更多的数据会发送过来了。

在节点发送一个控制帧后，表示连接将被关闭，将不会发送更多的数据；在节点收到一个表示连接即将关闭的控制帧后，将丢弃后面收到的数据。

如果两个节点同时开启这个握手也是安全的。

关闭阶段握手旨在完成 TCP 关闭握手（FIN/ACK），基于 TCP 的端到端关闭握手不是非常可靠，特别是存在拦截代理和其他中间件的时候。

通过发送一个关闭帧并等待对方响应的关闭帧，在某些情况下可以避免不必要的数据丢失。例如，在一些平台上，如果一个 socket 关闭时接收队列中还有数据，一个 RST 包被发送了，将会导致 RST 的接收方 resv() 失败，即使有等待读取的数据。